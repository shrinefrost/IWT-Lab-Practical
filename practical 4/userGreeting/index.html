<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>User Registration - Step 1</title>
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500&display=swap" rel="stylesheet">
  <style>
    body {
      margin: 0;
      font-family: 'Roboto', Arial, sans-serif;
      background: #f1f3f4;
    }

    .card {
      background: white;
      padding: 32px;
      width: 380px;
      margin: 100px auto;
      border-radius: 8px;
      box-shadow: 0 4px 10px rgba(0,0,0,0.1);
    }

    h2 {
      color: #202124;
      text-align: center;
      margin-bottom: 25px;
    }

    .input-group {
      margin: 10px 0;
    }

    label {
      display: block;
      margin-bottom: 5px;
      font-weight: 500;
      color: #555;
      font-size: 14px;
    }

    input, select {
      width: 100%;
      padding: 12px;
      margin: 10px 0;
      border: 1px solid #dadce0;
      border-radius: 4px;
      font-size: 14px;
      box-sizing: border-box;
    }

    input:focus, select:focus {
      outline: none;
      border-color: #1a73e8;
      box-shadow: 0 0 5px rgba(26,115,232,0.3);
    }

    button {
      width: 100%;
      padding: 12px;
      background: #1a73e8;
      color: white;
      border: none;
      border-radius: 4px;
      cursor: pointer;
      font-size: 16px;
      margin-top: 15px;
      font-weight: 500;
    }

    button:hover {
      background: #1558c0;
    }

    button:disabled {
      background: #bdc1c6;
      cursor: not-allowed;
      opacity: 0.6;
    }

    .error {
      color: #d32f2f;
      font-size: 13px;
      margin: 10px 0;
      min-height: 20px;
      display: flex;
      align-items: center;
    }

    .success {
      color: #137333;
      background: #e6f4ea;
      padding: 12px;
      border-radius: 4px;
      margin: 10px 0;
      font-size: 14px;
      display: none;
    }
  </style>
</head>
<body>
  <div class="card">
    <h2>Tell us about you</h2>
    
    <div class="input-group">
      <label for="name">Full Name *</label>
      <input id="name" type="text" placeholder="Enter your full name" required />
    </div>
    
    <div class="input-group">
      <label for="email">Email Address *</label>
      <input id="email" type="email" placeholder="example@domain.com" required />
    </div>
    
    <div class="input-group">
      <label for="phone">Phone Number</label>
      <input id="phone" type="tel" placeholder="+91 1234567890" />
    </div>
    
    <div class="input-group">
      <label for="age">Age *</label>
      <input id="age" type="number" min="13" max="120" placeholder="Enter your age" required />
    </div>
    
    <div class="input-group">
      <label for="gender">Gender</label>
      <select id="gender">
        <option value="">Select gender</option>
        <option value="male">Male</option>
        <option value="female">Female</option>
        <option value="other">Other</option>
        <option value="prefer-not-to-say">Prefer not to say</option>
      </select>
    </div>
    
    <div class="input-group">
      <label for="country">Country</label>
      <select id="country">
        <option value="">Select country</option>
        <option value="india">India</option>
        <option value="usa">USA</option>
        <option value="uk">United Kingdom</option>
        <option value="canada">Canada</option>
        <option value="other">Other</option>
      </select>
    </div>
    
    <div id="error" class="error"></div>
    <div id="success" class="success"></div>
    
    <button id="submitBtn" onclick="validateUser()">Continue</button>
  </div>

  <script>
    function validateUser() {
      const name = document.getElementById('name').value.trim();
      const email = document.getElementById('email').value.trim();
      const age = document.getElementById('age').value;
      const errorDiv = document.getElementById('error');
      const successDiv = document.getElementById('success');
      const submitBtn = document.getElementById('submitBtn');
      
      // Clear previous messages
      errorDiv.textContent = '';
      errorDiv.className = 'error';
      successDiv.style.display = 'none';
      
      let hasError = false;
      
      // Name validation
      if (!name) {
        showError('Please enter your full name.');
        hasError = true;
        return;
      }
      if (name.length < 2) {
        showError('Name must be at least 2 characters long.');
        hasError = true;
        return;
      }
      
      // Email validation
      if (!email) {
        showError('Please enter your email address.');
        hasError = true;
        return;
      }

      
      // Age validation
      const ageNum = parseInt(age);
      if (!age || ageNum < 13) {
        showError('Please enter a valid age (13 or older).');
        hasError = true;
        return;
      }
      
      // Success - Save all data
      if (!hasError) {
        const userData = {
        name,
      email,
  phone: document.getElementById('phone').value.trim(),
  age: ageNum,
  gender: document.getElementById('gender').value,
  country: document.getElementById('country').value,
  timestamp: new Date().toISOString()
};

localStorage.clear();
// Get existing users array OR start empty
const existingUsers = JSON.parse(localStorage.getItem('feedback')) || [];

console.log(existingUsers)
// Add new user to array
existingUsers.push(userData);

// Save array back
localStorage.setItem('feedback', JSON.stringify(existingUsers));

// Keep feedback compatibility
localStorage.setItem('userName', name);
localStorage.setItem('userEmail', email);
localStorage.setItem('feedback', JSON.stringify(userData));

console.log('Users array saved:', existingUsers);

}
      
      function showError(message) {
        errorDiv.textContent = message;
      }
        alert(`Greetings ${name}! ðŸ™Œ Redirecting to feedback...`);
        // Navigate to feedback page
        window.location.href = "feedback.html";
    }
    
  </script>
</body>
</html>
